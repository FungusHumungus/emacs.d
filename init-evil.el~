;; Ctrl U should scroll up a page
(setq evil-want-C-u-scroll t)
(setq evil-want-fine-undo t)
(setq evil-esc-delay 0.001)

;; Load evil
(add-to-list 'load-path "~/.emacs.d/elpa/evil-v1.0.7")
(require 'evil)
(evil-mode 1)

;; change mode-line color by evil state
;;(lexical-let ((default-color (cons (face-background 'mode-line)
;;                                   (face-foreground 'mode-line))))
;;  (add-hook 'post-command-hook
;;            (lambda ()
;;              (let ((color (cond ((minibufferp) default-color)
;;                                 ((evil-insert-state-p) '("#330000" . "#ffffff"))
;;                                 ((evil-emacs-state-p)  '("#003300" . "#ffffff"))
;;                                 ((buffer-modified-p)   '("#000033" . "#ffffff"))
;;                                 (t default-color))))
;;                (set-face-background 'mode-line (car color))
;;                (set-face-foreground 'mode-line (cdr color))))))

(provide 'init-evil)
